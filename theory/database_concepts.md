# Database Concepts

1. [Normalization Levels](#normalization-levels)  
2. [BASE](#base)  
3. [ACID](#acid)  
4. [Sharding](#sharding)  
5. [Partitioning](#partitioning)  
6. [Replication](#replication)

---

### Normalization Levels <a id="normalization-levels"></a>

- **1NF**: Все данные должны быть разбиты на минимальные, неделимые части. В таблице не должно быть повторяющихся групп данных или массивов.
- **2NF**: Каждая колонка в таблице должна зависеть от всего первичного ключа, а не от его части (это важно для таблиц с составными ключами).
- **3NF**: Данные не должны зависеть от других неключевых колонок. Они должны зависеть только от первичного ключа. Это предотвращает ситуации, когда информация в одной колонке может быть выведена из другой неключевой колонки, обеспечивая целостность данных.
- **BCNF**: Любой столбец, который определяет другие столбцы, должен быть ключом. То есть, если один столбец влияет на другой, он должен быть кандидатом на ключ.
- **4NF**: Данные не должны иметь сложных зависимостей, когда одно значение связано с несколькими другими значениями в разных строках.
- **5NF**: Таблицу нельзя разделить на более мелкие таблицы, чтобы восстановить исходные данные через объединения (join).

---

### BASE <a id="base"></a>

**BASE (Basically Available, Soft State, Eventual Consistency)** — это подход, противопоставляемый ACID в распределённых системах. BASE используется в NoSQL-базах данных, где важны масштабируемость и доступность.

- **Основные принципы BASE**:
  1. **Basically Available**: Система всегда доступна, даже если не все данные обновлены или полностью согласованы.
  2. **Soft state**: Состояние данных может быть временно неконсистентным, так как система позволяет их изменения с течением времени.
  3. **Eventual consistency**: Система гарантирует, что данные со временем станут согласованными.

- **Пример использования**: BASE часто используется в системах с высокой нагрузкой, где требуются быстрые отклики, например, в системах рекомендательных сервисов, аналитике или кэшах.

---

### ACID <a id="acid"></a>

**ACID (Atomicity, Consistency, Isolation, Durability)** — это набор свойств, обеспечивающих надежность выполнения транзакций в системах управления базами данных. ACID чаще всего используется в реляционных базах данных, где критически важны целостность и согласованность данных.

- **Основные принципы ACID**:
  1. **Atomicity (Атомарность)**:  
     - Каждая транзакция выполняется как единое целое: либо она полностью завершена, либо отменена (rollback).  
     - Например, при переводе денег между счетами либо сумма списывается и зачисляется, либо ничего не происходит.
  2. **Consistency (Согласованность)**:  
     - Транзакция переводит базу данных из одного согласованного состояния в другое. Все ограничения (constraints) и правила базы данных сохраняются.  
     - Например, если установлен предел на баланс счёта, то база данных не разрешит операции, нарушающие этот предел.
  3. **Isolation (Изолированность)**:  
     - Одновременные транзакции не мешают друг другу. Промежуточные результаты одной транзакции недоступны другим, пока транзакция не завершена.  
     - Это предотвращает конфликты между одновременными изменениями данных.
  4. **Durability (Долговечность)**:  
     - После подтверждения транзакции её изменения сохраняются навсегда, даже в случае сбоя системы.  
     - Это обеспечивается благодаря журналированию или другим механизмам восстановления данных.

- **Пример использования**: ACID применяется в банковских системах, системах бронирования и других критически важных приложениях, где необходима точность и согласованность данных.

---

### Шардинг <a id="sharding"></a>

Шардинг — это метод горизонтального разбиения данных в базе данных, при котором данные распределяются по нескольким серверам. Это помогает улучшить масштабируемость и управлять большими объемами информации.

- **Типы шардинга**:
  1. **Географический шардинг**: Данные распределяются по географическим регионам.
  2. **По ключу**: Данные распределяются в зависимости от значения конкретного столбца.

---

### Партиционирование <a id="partitioning"></a>

Партиционирование — это разделение базы данных на отдельные части, чтобы улучшить производительность и упростить управление данными.

- **Виды партиционирования**:
  1. **Диапазон (Range)**: Деление данных по диапазонам значений.
  2. **Список (List)**: Разделение по списку предопределённых значений.
  3. **Хэш (Hash)**: Использование хэш-функции для определения, куда помещать данные.

---

### Репликация <a id="replication"></a>

Репликация — это процесс копирования и поддержания объектов базы данных на нескольких серверах для обеспечения их резервирования и высокой доступности.

- **Типы репликации**:
  1. **Master-Master**: Обновления могут происходить на любом из серверов, и они синхронизируются между собой.
  2. **Master-Slave**: Обновления выполняются только на главном сервере (master), а реплики (slave) получают обновления.
  3. **Elections**: Серверы выбирают новый "главный" сервер при сбое текущего мастера.

- **Методы синхронизации**:
  1. **Синхронная (Sync)**: Данные записываются на все реплики одновременно.
  2. **Асинхронная (Async)**: Данные записываются на главную базу, а затем реплицируются с задержкой.